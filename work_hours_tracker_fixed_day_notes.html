
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Work Hours & Earnings Tracker</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f4f6f9;
      margin: 0;
      padding: 20px;
      color: #333;
    }

    h2, h3 {
      text-align: center;
    }

    form {
      background-color: #fff;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      max-width: 1000px;
      margin: 0 auto 30px auto;
    }

    label {
      display: block;
      margin: 10px 0 5px;
    }

    input, textarea, button {
      padding: 8px;
      font-size: 1rem;
      margin-bottom: 10px;
      width: 100%;
      max-width: 300px;
      border-radius: 4px;
      border: 1px solid #ccc;
    }

    textarea {
      resize: vertical;
      height: 60px;
    }

    button {
      background-color: #4a90e2;
      color: white;
      border: none;
      cursor: pointer;
      width: auto;
      margin-right: 10px;
    }

    button:hover {
      background-color: #357ab8;
    }

    .form-group {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 15px;
    }

    .form-group label {
      flex: 1 1 150px;
      min-width: 140px;
    }

    .week-block {
      margin-bottom: 40px;
    }

    table {
      border-collapse: collapse;
      width: 100%;
      background: #fff;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    th, td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: center;
    }

    th {
      background-color: #f0f0f0;
      font-weight: bold;
    }

    tr:nth-child(even) {
      background-color: #f9f9f9;
    }

    .subtotal-row {
      font-weight: bold;
      background-color: #eaf2fb;
    }

    .total-row {
      font-weight: bold;
      background-color: #d0e5f7;
    }
  </style>
</head>
<body>

<h2>Work Hours & Earnings Tracker</h2>

<form id="workForm">
  <div class="form-group">
    <label>Week Date Range:
      <input type="text" id="weekRange" placeholder="e.g. May 1 - May 7" required>
    </label>
    <label>Hourly Rate ($):
      <input type="number" id="hourlyRate" step="0.01" required>
    </label>
    <label>Breaks (hrs per week):
      <input type="number" id="breaks" step="0.1" value="0">
    </label>
  </div>

  <div class="form-group">
    <label>Monday Hours: <input type="number" id="mon" step="0.01"></label>
    <label>Co-worker(s): <input type="text" id="mon_coworker"></label>
    <label>Note: <input type="text" id="mon_note"></label>
  </div>
  <div class="form-group">
    <label>Tuesday Hours: <input type="number" id="tue" step="0.01"></label>
    <label>Co-worker(s): <input type="text" id="tue_coworker"></label>
    <label>Note: <input type="text" id="tue_note"></label>
  </div>
  <div class="form-group">
    <label>Wednesday Hours: <input type="number" id="wed" step="0.01"></label>
    <label>Co-worker(s): <input type="text" id="wed_coworker"></label>
    <label>Note: <input type="text" id="wed_note"></label>
  </div>
  <div class="form-group">
    <label>Thursday Hours: <input type="number" id="thu" step="0.01"></label>
    <label>Co-worker(s): <input type="text" id="thu_coworker"></label>
    <label>Note: <input type="text" id="thu_note"></label>
  </div>
  <div class="form-group">
    <label>Friday Hours: <input type="number" id="fri" step="0.01"></label>
    <label>Co-worker(s): <input type="text" id="fri_coworker"></label>
    <label>Note: <input type="text" id="fri_note"></label>
  </div>
  <div class="form-group">
    <label>Saturday Hours: <input type="number" id="sat" step="0.01"></label>
    <label>Co-worker(s): <input type="text" id="sat_coworker"></label>
    <label>Note: <input type="text" id="sat_note"></label>
  </div>
  <div class="form-group">
    <label>Sunday Hours: <input type="number" id="sun" step="0.01"></label>
    <label>Co-worker(s): <input type="text" id="sun_coworker"></label>
    <label>Note: <input type="text" id="sun_note"></label>
  </div>

  <div style="margin-top: 15px;">
    <button type="button" onclick="addWeek()">Add Week</button>
    <button type="button" onclick="clearData()">Clear All Data</button>
  </div>
</form>

<div id="weekTable"></div>

<script>
  let allWeeks = [];

  window.onload = () => {
    const saved = localStorage.getItem("workLog");
    if (saved) {
      allWeeks = JSON.parse(saved);
      renderTable();
    }
  };

  function saveData() {
    localStorage.setItem("workLog", JSON.stringify(allWeeks));
  }

  function addWeek() {
    const range = document.getElementById("weekRange").value.trim();
    const rate = parseFloat(document.getElementById("hourlyRate").value);
    const breaks = parseFloat(document.getElementById("breaks").value) || 0;

    if (!range) return alert("Please enter a week date range.");
    if (!rate) return alert("Please enter hourly rate.");

    const days = ["mon", "tue", "wed", "thu", "fri", "sat", "sun"];
    let hours = 0;
    let dailyEntries = [];

    for (let d of days) {
      const h = parseFloat(document.getElementById(d).value) || 0;
      const c = document.getElementById(`${d}_coworker`).value.trim();
      const n = document.getElementById(`${d}_note`).value.trim();
      hours += h;
      dailyEntries.push({ hours: h, coworker: c, note: n });
    }

    const workedHours = Math.max(0, hours - breaks);
    const regHours = Math.min(40, workedHours);
    const otHours = Math.max(0, workedHours - 40);
    const regPay = regHours * rate;
    const otPay = otHours * rate * 1.5;
    const totalPay = regPay + otPay;

    const weekData = {
      week: allWeeks.length + 1,
      range,
      dailyEntries,
      totalHours: workedHours,
      breaks,
      regHours,
      otHours,
      regPay,
      otPay,
      totalPay,
      rate
    };

    allWeeks.push(weekData);
    saveData();
    renderTable();
    document.getElementById("workForm").reset();
  }

  function renderTable() {
    if (allWeeks.length === 0) return;

    let html = `<h3>Weekly Logs</h3>`;
    let totalHours = 0, totalReg = 0, totalOT = 0, totalPay = 0, totalOTPay = 0;

    for (let w of allWeeks) {
      html += `<div class="week-block"><table>
        <tr>
          <th>Week</th><th>Date Range</th>
          <th>Mon</th><th>Tue</th><th>Wed</th><th>Thu</th><th>Fri</th><th>Sat</th><th>Sun</th>
          <th>Breaks</th><th>Total Hrs</th><th>Reg Hrs</th><th>OT Hrs</th>
          <th>Reg Pay</th><th>OT Pay</th><th>Total Pay</th>
        </tr>`;

      html += `<tr>
        <td>${w.week}</td>
        <td>${w.range}</td>
        ${w.dailyEntries.map(d => `<td>${d.hours.toFixed(2)}<br><small>${d.coworker}</small><br><em>${d.note}</em></td>`).join("")}
        <td>${w.breaks.toFixed(2)}</td>
        <td>${w.totalHours.toFixed(2)}</td>
        <td>${w.regHours.toFixed(2)}</td>
        <td>${w.otHours.toFixed(2)}</td>
        <td>${w.regPay.toFixed(2)}</td>
        <td>${w.otPay.toFixed(2)}</td>
        <td>${w.totalPay.toFixed(2)}</td>
      </tr></table></div>`;

      totalHours += w.totalHours;
      totalReg += w.regHours;
      totalOT += w.otHours;
      totalPay += w.totalPay;
      totalOTPay += w.otPay;
    }

    html += `<table><tr class="total-row">
      <td colspan="10">TOTAL</td>
      <td>${totalHours.toFixed(2)}</td>
      <td>${totalReg.toFixed(2)}</td>
      <td>${totalOT.toFixed(2)}</td>
      <td colspan="1"></td>
      <td>${totalOTPay.toFixed(2)}</td>
      <td>${totalPay.toFixed(2)}</td>
    </tr></table>`;

    document.getElementById("weekTable").innerHTML = html;
  }

  function clearData() {
    if (confirm("Are you sure you want to clear all saved data?")) {
      localStorage.removeItem("workLog");
      allWeeks = [];
      renderTable();
    }
  }
</script>

</body>
</html>
